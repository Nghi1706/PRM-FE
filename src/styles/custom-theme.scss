// ANGULAR MATERIAL THEME
// ------------------------------
@use '@angular/material' as mat;
@use 'variables' as vars;
@use 'sass:map';

// Include common Angular Material styles and core CSS
@include mat.core();

// LIGHT THEME DEFINITION
// ------------------------------
// Định nghĩa palettes cho light theme
$light-primary-palette: mat.define-palette(mat.$blue-palette, 700, 500, 900);
$light-accent-palette: mat.define-palette(mat.$amber-palette, 500, 300, 700);
$light-warn-palette: mat.define-palette(mat.$red-palette, 500);

// Tạo theme object
$light-theme: mat.define-light-theme(
  (
    color: (
      primary: $light-primary-palette,
      accent: $light-accent-palette,
      warn: $light-warn-palette,
    ),
    typography: mat.define-typography-config(
        $font-family: vars.$font-family-base,
      ),
    density: 0,
  )
);

// DARK THEME DEFINITION
// ------------------------------
// Định nghĩa palettes cho dark theme
$dark-primary-palette: mat.define-palette(mat.$blue-palette, 300, 100, 500); // Sáng hơn để nổi bật trên nền tối
$dark-accent-palette: mat.define-palette(mat.$amber-palette, 300, 100, 500);
$dark-warn-palette: mat.define-palette(mat.$red-palette, 300);

// Tạo dark theme object
$dark-theme: mat.define-dark-theme(
  (
    color: (
      primary: $dark-primary-palette,
      accent: $dark-accent-palette,
      warn: $dark-warn-palette,
    ),
    typography: mat.define-typography-config(
        $font-family: vars.$font-family-base,
      ),
    density: 0,
  )
);

// THEME APPLICATION
// ------------------------------
// Apply light theme by default
@include mat.all-component-themes($light-theme);

// Apply dark theme only when .dark-theme class is present
.dark-theme {
  @include mat.all-component-colors($dark-theme);
}

// CUSTOM MATERIAL COMPONENT STYLES
// ------------------------------
// Một số điều chỉnh để tăng thân thiện với người dùng

// Tăng độ tương phản cho buttons
.mat-mdc-raised-button,
.mat-mdc-fab,
.mat-mdc-mini-fab {
  font-weight: vars.$font-weight-medium;
}

// Tăng rõ ràng cho form fields
.mat-mdc-form-field {
  width: 100%;
  margin-bottom: vars.$spacing-md;
}

// Cải thiện hiển thị cho cards
.mat-mdc-card {
  border-radius: vars.$border-radius-md;
  overflow: hidden;
  transition: box-shadow 0.3s ease;

  &:hover {
    box-shadow: vars.$shadow-md;
  }
}

// Dialog styles
.mat-mdc-dialog-container {
  .mat-mdc-dialog-surface {
    border-radius: vars.$border-radius-md !important;
    padding: vars.$spacing-lg !important;
  }
}

// Tooltip với độ tương phản cao
.mat-mdc-tooltip {
  font-size: vars.$font-size-sm !important;
}

// Table tăng khả năng đọc
.mat-mdc-table {
  width: 100%;

  .mat-mdc-header-row {
    background-color: rgba(0, 0, 0, 0.03);
  }

  .mat-mdc-row:hover {
    background-color: rgba(0, 0, 0, 0.03);
  }
}

// Datepicker dễ đọc hơn
.mat-calendar-body-selected {
  border-radius: 999px !important;
}

// Snackbar với màu sắc rõ ràng hơn
.mat-mdc-snack-bar-container {
  &.success-snackbar {
    --mdc-snackbar-container-color: var(--success);
    --mdc-snackbar-supporting-text-color: var(--text-on-primary);
  }

  &.error-snackbar {
    --mdc-snackbar-container-color: var(--error);
    --mdc-snackbar-supporting-text-color: var(--text-on-primary);
  }
}
